<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
        #header{
            position:fixed;
            top:0;
            width :60%;
            margin-left:15%;
            margin-top:1%;
        }
        #today{
            text-align: center;
            align-items: center;
            justify-content: center;
            display: flex;
            margin-top: 2%;
        }
        #today #img{
            width:30%;
        }
        #today #data{
            width:40%;
        }
        #today #des{
            width:30%;
        }
        #location{
            width: 100%;
            height: auto;
            margin-top: 7%;
            border-radius: 30px 30px 30px 30px;
            padding: 3% 7% ;
            background-image: url("https://nordicapis.com/wp-content/uploads/How-to-Build-an-API-Driven-Weather-App.png");
            box-shadow: 5px 5px 8px 8px black;
            
            

        }
        #forcast{
            display:flex;
            flex-wrap: wrap;
            text-align: center;
            align-items: center;
            background-image:url("https://img.freepik.com/premium-vector/sky-cloud-daily-illustration-with-cartoon-cirrus-cumulus-white-clouds-rays-sun-illustration_1284-62767.jpg") ;
            box-shadow: 4px 4px 5px 5px black;
            justify-content: center;
            background-size: cover;
            margin-top: 4%;
        }
        #forcast div{
            width:20%;
            padding: 2%;
            border-right:1px solid black ;
            border-left:1px solid black ;
            height: 60vh;
                       
        }
        #footer{
            margin-left: 45%; 
            width: 17.5%;
            border-width: 70%;
            background-size: 10%;
            font-weight: bolder;
            font-size: larger;
            font-family: Arial, Helvetica, sans-serif;
            margin-top: 3%;
            top: 0;
            background-color: black;
            color: white;   
        }
        #button{
            color: black;
        }
        
    </style>

</head>
<body background="https://wallpaperaccess.com/full/4835514.jpg"   onload="myFun()" >
    <div class="container">
        <header id="header">
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Search City" name="name" id="input" >
                <button class="btn btn-success"id="button" onclick="myFun()" type="button" id="button-addon2">Submit </button>
            </div>
        </header>
        <div id="location">
            <div style=" text-align: center ;"><h1 style="font-size:1.5cm;"id="name"></h1></div>
            <div id="today">
                <div id="img"><img style="margin-top: -3%;"  id="image"><h4 style="margin-top: -3%;"  id="desc"></h4></div>
                <div id="data">
                    <h1 id="temp" style="font-size: 1.5cm;"></h1>
                    <br/>
                    <h3 id="date"></h3>
                </div>    
                <div id="des">       
                    <h3 id="humidity"></h3>
                    <h3 id="wind"></h3>
                </div> 
                
            </div>
        </div>
        <div id="forcast">
            <div>
                <h1 id="day1"></h1>
                <img id="image5">
                <h1 id="temp5"></h1>
                <h4 id="h5"></h4>
                <h4 id="l5"></h4>
                <h4 id="desc5"></h4>
                <h4 id="humidity5"></h4>
                <h4 id="wind5"></h4>
            </div>
            <div>
                <h1 id="day2"></h1>
                <img id="image1">
                <h1 id="temp1"></h1>
                <h4 id="h1"></h4>
               
                <h4 id="l1"></h4>
                <h4 id="desc1"></h4>
                <h4 id="humidity1"></h4>
                <h4 id="wind1"></h4>
                
                
            </div>
            <div>
                <h1 id="day3"></h1>
                <img id="image2">
                <h1 id="temp2"></h1>
                
                <h4 id="h2"></h4>
                <h4 id="l2"></h4>
                <h4 id="desc2"></h4>
                <h4 id="humidity2"></h4>
                <h4 id="wind2"></h4>
                
                
            </div>
            <div>
                <h1 id="day4"></h1>
                <img id="image3">
                <h1 id="temp3"></h1>
                <h4 id="h3"></h4>
                
                <h4 id="l3"></h4>
                <h4 id="desc3"></h4>
                <h4 id="humidity3"></h4>
                <h4 id="wind3"></h4>
                
                
            </div>
            <div>
                <h1 id="day5"></h1>
                <img id="image4">
                <h1 id="temp4"></h1>
                
                <h4 id="h4"></h4>
                <h4 id="l4"></h4>
                <h4 id="desc4"></h4>
                <h4 id="humidity4"></h4>
                <h4 id="wind4"></h4>
                
                
            </div>
        </div>
    </div>
    <footer id="footer">
        <p> Developed By Paras Ramola</p>
    </footer>
    <script>
        function myFun(){
            
            let inputValue=document.getElementById("input").value;
            if(inputValue==""){
                inputValue="delhi";
            }
            let name=document.getElementById("name");
            let temp=document.getElementById("temp");
            let humidity=document.getElementById("humidity");
            let wind=document.getElementById("wind");
            let date=document.getElementById("date");
            let data=document.getElementById("data");
            let desc=document.getElementById("desc");

            let desc5=document.getElementById("desc5");
            let desc1=document.getElementById("desc1");
            let desc2=document.getElementById("desc2");
            let desc3=document.getElementById("desc3");
            let desc4=document.getElementById("desc4");
            
            let temp1=document.getElementById("temp1");
            let temp2=document.getElementById("temp2");
            let temp3=document.getElementById("temp3");
            let temp4=document.getElementById("temp4");
            let temp5=document.getElementById("temp5");

            let humidity1=document.getElementById("humidity1");
            let humidity2=document.getElementById("humidity2");
            let humidity3=document.getElementById("humidity3");
            let humidity4=document.getElementById("humidity4");
            let humidity5=document.getElementById("humidity5");

            let wind1=document.getElementById("wind1");
            let wind2=document.getElementById("wind2");
            let wind3=document.getElementById("wind3");
            let wind4=document.getElementById("wind4");
            let wind5=document.getElementById("wind5");


            let day1=document.getElementById("day1");
            let day2=document.getElementById("day2");
            let day3=document.getElementById("day3");
            let day4=document.getElementById("day4");
            let day5=document.getElementById("day5");

            let h1=document.getElementById("h1");
            let h2=document.getElementById("h2");
            let h3=document.getElementById("h3");
            let h4=document.getElementById("h4");
            let h5=document.getElementById("h5");

            let l1=document.getElementById("l1");
            let l2=document.getElementById("l2");
            let l3=document.getElementById("l3");
            let l4=document.getElementById("l4");
            let l5=document.getElementById("l5");

            const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
            const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
            fetch("https://api.openweathermap.org/data/2.5/weather?q="+inputValue+"&appid=57bd57e9826ca6887b18bdee53dfeb84&days=5")
            .then(response=>response.json())
            .then(data=>{
                humidity.innerHTML="Humidity : "+data['main']['humidity'];
                humidity5.innerHTML="Humidity : "+data['main']['humidity'];
                name.innerHTML=data['name'];
                temp5.innerHTML=Math.floor(data['main']['temp'])-273+"<sup>&nbsp;o<sub>C</sub></sup>";
                
                temp.innerHTML=Math.floor(data['main']['temp'])-273+"<sup>&nbsp;o<sub>C</sub></sup>";
                wind5.innerHTML="Wind Speed : "+data['wind']['speed'];
                desc5.innerHTML="Description : "+data['weather'][0]['description'];
                
                wind.innerHTML="Wind Speed : "+data['wind']['speed'];
                desc.innerHTML=data['weather'][0]['description'];
                document.getElementById("image").src="https://openweathermap.org/img/wn/"+data['weather'][0]['icon']+"@4x.png";
                document.getElementById("image5").src="https://openweathermap.org/img/wn/"+data['weather'][0]['icon']+"@2x.png";
                h5.innerHTML="Day High : "+Number(Math.floor(data['main']['temp_max'])-268)+"<sup>&nbsp;o<sub>C</sub></sup>";
                l5.innerHTML="Day LOW : "+Number(Math.floor(data['main']['temp_min'])-279)+"<sup>&nbsp;o<sub>C</sub></sup>";
                
                console.log(data)
            })
            .catch(err=>console.log("invalid input"));
            fetch("https://api.openweathermap.org/data/2.5/forecast?q="+inputValue+"&appid=57bd57e9826ca6887b18bdee53dfeb84")
            .then(response=>response.json())
            .then(data=>{
                let date=new Date();
                

                temp1.innerHTML=Math.floor(data['list'][10]['main']['temp'])-273+"<sup>&nbsp;o<sub>C</sub></sup>";
                temp2.innerHTML=Math.floor(data['list'][18]['main']['temp'])-273+"<sup>&nbsp;o<sub>C</sub></sup>";
                temp3.innerHTML=Math.floor(data['list'][26]['main']['temp'])-273+"<sup>&nbsp;o<sub>C</sub></sup>";
                temp4.innerHTML=Math.floor(data['list'][34]['main']['temp'])-273+"<sup>&nbsp;o<sub>C</sub></sup>";

                h1.innerHTML="Day HIGH : "+Number(Math.floor(data['list'][7]['main']['temp_max'])-273)+"<sup>&nbsp;o<sub>C</sub></sup>";
                h2.innerHTML="Day HIGH : "+Number(Math.floor(data['list'][15]['main']['temp_max'])-273)+"<sup>&nbsp;o<sub>C</sub></sup>";
                h3.innerHTML="Day HIGH : "+Number(Math.floor(data['list'][23]['main']['temp_max'])-273)+"<sup>&nbsp;o<sub>C</sub></sup>";
                h4.innerHTML="Day HIGH : "+Number(Math.floor(data['list'][31]['main']['temp_max'])-273)+"<sup>&nbsp;o<sub>C</sub></sup>";

                l1.innerHTML="Day LOW : "+Number(Math.floor(data['list'][5]['main']['temp_min'])-273)+"<sup>&nbsp;o<sub>C</sub></sup>";
                l2.innerHTML="Day LOW : "+Number(Math.floor(data['list'][13]['main']['temp_min'])-273)+"<sup>&nbsp;o<sub>C</sub></sup>";
                l3.innerHTML="Day LOW : "+Number(Math.floor(data['list'][21]['main']['temp_min'])-273)+"<sup>&nbsp;o<sub>C</sub></sup>";
                l4.innerHTML="Day LOW : "+Number(Math.floor(data['list'][29]['main']['temp_min'])-273)+"<sup>&nbsp;o<sub>C</sub></sup>";

                humidity1.innerHTML="Humidity : "+data['list'][9]['main']['humidity'];
                humidity2.innerHTML="Humidity : "+data['list'][17]['main']['humidity'];
                humidity3.innerHTML="Humidity : "+data['list'][25]['main']['humidity'];
                humidity4.innerHTML="Humidity : "+data['list'][33]['main']['humidity'];

                wind1.innerHTML="Wind Speed : "+data['list'][9]['wind']['speed'];
                wind2.innerHTML="Wind Speed : "+data['list'][17]['wind']['speed'];
                wind3.innerHTML="Wind Speed : "+data['list'][25]['wind']['speed'];
                wind4.innerHTML="Wind Speed : "+data['list'][33]['wind']['speed'];

                desc1.innerHTML="Description : "+data['list'][9]['weather'][0]['description'];
                desc2.innerHTML="Description : "+data['list'][17]['weather'][0]['description'];
                desc3.innerHTML="Description : "+data['list'][25]['weather'][0]['description'];
                desc4.innerHTML="Description : "+data['list'][33]['weather'][0]['description'];

                

                document.getElementById("image1").src="https://openweathermap.org/img/wn/"+data['list'][9]['weather'][0]['icon']+"@2x.png";
                document.getElementById("image2").src="https://openweathermap.org/img/wn/"+data['list'][17]['weather'][0]['icon']+"@2x.png";
                document.getElementById("image3").src="https://openweathermap.org/img/wn/"+data['list'][25]['weather'][0]['icon']+"@2x.png";
                document.getElementById("image4").src="https://openweathermap.org/img/wn/"+data['list'][33]['weather'][0]['icon']+"@2x.png";

                console.log(data)


            })
            .catch(err=>console.log("invalid input"))
            
            let a=new Date();
            day1.innerHTML=days[a.getDay()];
            day2.innerHTML=days[(a.getDay()+1)%7];
            day3.innerHTML=days[(a.getDay()+2)%7];
            day4.innerHTML=days[(a.getDay()+3)%7];
            day5.innerHTML=days[(a.getDay()+4)%7];

            date.innerHTML=days[a.getDay()]+"<br/>"+months[a.getMonth()]+" "+a.getDate()+" "+a.getFullYear()+"</br>"+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();
        }
    </script>
</body>
</html>